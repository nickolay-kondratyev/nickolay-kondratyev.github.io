(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{19449:function(t,e,n){"use strict";n.d(e,{Z:function(){return D}});var i=n(30266),o=n(66311),r=n(809),a=n.n(r),c=n(4604),s=n(71230),d=n(15746),u=n(96486),l=n.n(u),f=n(67294),p=n(1076),h=n(41664),g=n(99490),m=n(85893);function x(t){var e,n,i,o=t.note,r=t.noteIndex,a=(0,p.gt)({note:o,noteIndex:r});try{e=l().get(o,"custom.date",!1)?(n=o.custom.date,i=g.DateTime.DATE_SHORT,g.DateTime.fromISO(n).toLocaleString(i)):function(t,e){return g.DateTime.fromMillis(t).toLocaleString(e)}(o.created,g.DateTime.DATE_SHORT)}catch(c){throw Error("no date found for note ".concat(o.id))}return(0,m.jsx)("div",{children:(0,m.jsxs)("article",{itemScope:!0,itemType:"https://schema.org/CreativeWork",children:[(0,m.jsx)("h2",{itemProp:"headline",children:(0,m.jsx)(h.default,{href:a,children:o.title})}),!l().isUndefined(e)&&(0,m.jsx)("p",{children:e}),l().has(o,"custom.excerpt")&&(0,m.jsx)("p",{itemProp:"description",children:o.custom.excerpt})]})})}var v=n(9008),N=n(23894);function _(t){var e=t.content,n=(0,N.ZP)(e);return(0,m.jsx)(v.default,{children:n})}var y=n(25903),j=n(2962),w=n(28861),L=function(t){return y.Time.DateTime.fromMillis(l().toInteger(t)).setZone("utc").toLocaleString("yyyy-LL-dd")};function S(t){var e=t.note,n=t.config,i=(0,w.vm)().router.asPath;if(l().some(["403","changelog"],(function(t){return i==="/notes/".concat(t,"/")})))return null;var o=y.PublishUtils.getSEOPropsFromConfig(n),r=y.PublishUtils.getSEOPropsFromNote(e),a=l().defaults(r,o),c=a.title,s=a.excerpt,d=null!==a&&void 0!==a&&a.image?[a.image]:[],u=function(t){var e=t.sitePath,n=t.seoProps,i=t.siteConfig;return n.canonicalBaseUrl?[i.siteUrl,e].join(""):n.canonicalUrl?n.canonicalUrl:[i.canonicalBaseUrl?i.canonicalBaseUrl:(0,p.N0)(i),e].join("")}({sitePath:i,seoProps:a,siteConfig:n.site}),f=a.twitter?{handle:a.twitter,site:a.twitter,cardType:"summary_large_image"}:void 0;return(0,m.jsx)(j.PB,{title:c,description:s,canonical:u,noindex:a.noindex,twitter:f,openGraph:{title:c,description:s,url:u,images:d,type:"article",article:{publishedTime:L(a.created),modifiedTime:L(a.updated),tags:function(t){return t.tags?Array.isArray(t.tags)?t.tags:[t.tags]:[]}(e)}}})}var E=n(77103),P=n(21553),T=n(29476);n(74622).b.HEADER;function D(t){var e,n=t.note,r=t.body,u=t.collectionChildren,p=t.noteIndex,h=t.customHeadContent,g=t.config,v=(0,c.createLogger)("Note"),N=(0,w.vm)().getActiveNoteId,y=f.useState(void 0),j=(0,o.Z)(y,2),L=j[0],D=j[1],U=N();"root"===U&&(U=p.id);var I=(0,P.$s)(),B=(0,P.O5)((function(t){return t.engine}));v.info({ctx:"enter",id:U});(0,w.dD)().isMobile;f.useEffect((function(){if(v.info({ctx:"updateNoteBody:enter",id:U}),l().isUndefined(U))v.info({ctx:"updateNoteBody:exit",id:U,state:"id undefined"});else{if(U===n.id)return I(T.w.Nw.setLoadingStatus(c.LoadingStatus.FULFILLED)),void v.info({ctx:"updateNoteBody:exit",id:U,state:"id = note.id"});v.info({ctx:"updateNoteBody:fetch:pre",id:U}),fetch("/data/notes/".concat(U,".html")).then(function(){var t=(0,i.Z)(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v.info({ctx:"updateNoteBody:fetch:post",id:U}),t.next=3,e.text();case 3:n=t.sent,D(n),I(T.w.Nw.setLoadingStatus(c.LoadingStatus.FULFILLED));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}),[U]);var C=U===n.id?r:L;if(l().isUndefined(C)||B.loading===c.LoadingStatus.PENDING)return(0,m.jsx)(E.Z,{});var Z=null!==(e=n.custom)&&void 0!==e&&e.has_collection&&!l().isNull(u)?u.map((function(t){return x({note:t,noteIndex:p})})):null;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(S,{note:n,config:g}),h&&(0,m.jsx)(_,{content:h}),(0,m.jsx)(s.Z,{children:(0,m.jsxs)(d.Z,{span:24,children:[(0,m.jsx)(c.DendronNote,{noteContent:C}),Z]})})]})}},12562:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return o}});var i=n(19449),o=!0;e.default=i.Z},45301:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(12562)}])}},function(t){t.O(0,[155,774,888,179],(function(){return e=45301,t(t.s=e);var e}));var e=t.O();_N_E=e}]);